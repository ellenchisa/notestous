<!doctype html>
<html>
	<head>
		<link href="http://fonts.googleapis.com/css?family=League+Script" rel="stylesheet" type="text/css">
		<link href="css/layout.css" rel="stylesheet" type="text/css">
		<link href="css/flick/jquery-ui-1.10.3.custom.min.css" rel="stylesheet" type="text/css">
		<script src="js/jquery-1.9.1.js"></script>
		<script src="js/jquery-ui-1.10.3.custom.js"></script>
        <link rel="stylesheet" type="text/css" href="css/jquery.jqtimeline.css" />
        <script type="text/javascript" src="js/jquery.jqtimeline.js"></script>
		<title>notes to us</title>
	</head>
	<body>
		<h1>notes to us</h1>
		<img id="current-image" src="#">
		<p id="date"></p>
		<div id="slider"></div>
		<div id="about">

		</div>
			<div id="footer">
			<p>made by <a href="http://ellenchisa.com">ellen chisa</a> and <a href="http://tomrudick.com">tom rudick</a>.</p>
		</div>
		<script type="text/javascript">
            var days = null;

            function populateTimeline() {
                $('#date').text(days[days.length - 1].date);
                $('#current-image').attr('src', days[days.length - 1].url);

                $('#slider').jqtimeline({events:days, startYear: 2013, numYears: 1});
            }

			$(function() {
                $.ajax({
                    url: '/photos.json',
                    dataType: 'json',
                    success: function(data) {
                        days = []
                        for (var i = 0; i < data.length; i++) {
                            days.push({
                                id: i,
                                on: new Date(Date.parse(data[i].date)),
                                name: data[i].comment,
                                url: data[i].url
                            });
                        }

                        populateTimeline();
                    },
                    error: function() {

                    }
                });
  			});
		</script>
	</body>
</html>